{"ast":null,"code":"import _objectSpread from\"/Users/andreeacsecs/Desktop/weather-app-push/weather-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/andreeacsecs/Desktop/weather-app-push/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';export var usePosition=function usePosition(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onChange=function onChange(_ref){var coords=_ref.coords;setPosition({latitude:coords.latitude,longitude:coords.longitude});};var onError=function onError(error){setError(error.message);};useEffect(function(){var geo=navigator.geolocation;if(!geo){setError('Geolocation is not supported');return;}var watcher=geo.watchPosition(onChange,onError);return function(){return geo.clearWatch(watcher);};},[]);return _objectSpread(_objectSpread({},position),{},{error:error});};","map":{"version":3,"names":["useState","useEffect","usePosition","position","setPosition","error","setError","onChange","coords","latitude","longitude","onError","message","geo","navigator","geolocation","watcher","watchPosition","clearWatch"],"sources":["/Users/andreeacsecs/Desktop/weather-app-push/weather-app/src/custom-hooks/usePositions.jsx"],"sourcesContent":["import {useState, useEffect} from 'react';\n\n\nexport const usePosition = () => {\n  const [position, setPosition] = useState({});\n  const [error, setError] = useState(null);\n  \n  const onChange = ({coords}) => {\n    setPosition({\n      latitude: coords.latitude,\n      longitude: coords.longitude,\n    });\n  };\n  const onError = (error) => {\n    setError(error.message);\n  };\n  useEffect(() => {\n    const geo = navigator.geolocation;\n    if (!geo) {\n      setError('Geolocation is not supported');\n      return;\n    }\n    let watcher = geo.watchPosition(onChange, onError);\n    return () => geo.clearWatch(watcher);\n  }, []);\n  return {...position, error};\n}"],"mappings":"2RAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAGzC,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CAC/B,cAAgCF,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAArCG,QAAQ,eAAEC,WAAW,eAC5B,eAA0BJ,QAAQ,CAAC,IAAI,CAAC,yCAAjCK,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAiB,IAAZC,OAAM,MAANA,MAAM,CACvBJ,WAAW,CAAC,CACVK,QAAQ,CAAED,MAAM,CAACC,QAAQ,CACzBC,SAAS,CAAEF,MAAM,CAACE,SACpB,CAAC,CAAC,CACJ,CAAC,CACD,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIN,KAAK,CAAK,CACzBC,QAAQ,CAACD,KAAK,CAACO,OAAO,CAAC,CACzB,CAAC,CACDX,SAAS,CAAC,UAAM,CACd,GAAMY,IAAG,CAAGC,SAAS,CAACC,WAAW,CACjC,GAAI,CAACF,GAAG,CAAE,CACRP,QAAQ,CAAC,8BAA8B,CAAC,CACxC,OACF,CACA,GAAIU,QAAO,CAAGH,GAAG,CAACI,aAAa,CAACV,QAAQ,CAAEI,OAAO,CAAC,CAClD,MAAO,kBAAME,IAAG,CAACK,UAAU,CAACF,OAAO,CAAC,GACtC,CAAC,CAAE,EAAE,CAAC,CACN,sCAAWb,QAAQ,MAAEE,KAAK,CAALA,KAAK,GAC5B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}