{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport const usePosition = () => {\n  _s();\n  const [position, setPosition] = useState({});\n  const [error, setError] = useState(null);\n  const onChange = _ref => {\n    let {\n      coords\n    } = _ref;\n    setPosition({\n      latitude: coords.latitude,\n      longitude: coords.longitude\n    });\n  };\n  const onError = error => {\n    setError(error.message);\n  };\n  useEffect(() => {\n    const geo = navigator.geolocation;\n    if (!geo) {\n      setError('Geolocation is not supported');\n      return;\n    }\n    let watcher = geo.watchPosition(onChange, onError);\n    return () => geo.clearWatch(watcher);\n  }, []);\n  return {\n    ...position,\n    error\n  };\n};\n_s(usePosition, \"dynHhIjHiH1gzjmYywOPM1LY5S8=\");","map":{"version":3,"names":["useState","useEffect","usePosition","position","setPosition","error","setError","onChange","coords","latitude","longitude","onError","message","geo","navigator","geolocation","watcher","watchPosition","clearWatch"],"sources":["/Users/andreeacsecs/Desktop/weather-app-push/src/custom-hooks/usePositions.jsx"],"sourcesContent":["import {useState, useEffect} from 'react';\n\n\nexport const usePosition = () => {\n  const [position, setPosition] = useState({});\n  const [error, setError] = useState(null);\n  \n  const onChange = ({coords}) => {\n    setPosition({\n      latitude: coords.latitude,\n      longitude: coords.longitude,\n    });\n  };\n  const onError = (error) => {\n    setError(error.message);\n  };\n  useEffect(() => {\n    const geo = navigator.geolocation;\n    if (!geo) {\n      setError('Geolocation is not supported');\n      return;\n    }\n    let watcher = geo.watchPosition(onChange, onError);\n    return () => geo.clearWatch(watcher);\n  }, []);\n  return {...position, error};\n}"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAGzC,OAAO,MAAMC,WAAW,GAAG,MAAM;EAAA;EAC/B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGJ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMO,QAAQ,GAAG,QAAc;IAAA,IAAb;MAACC;IAAM,CAAC;IACxBJ,WAAW,CAAC;MACVK,QAAQ,EAAED,MAAM,CAACC,QAAQ;MACzBC,SAAS,EAAEF,MAAM,CAACE;IACpB,CAAC,CAAC;EACJ,CAAC;EACD,MAAMC,OAAO,GAAIN,KAAK,IAAK;IACzBC,QAAQ,CAACD,KAAK,CAACO,OAAO,CAAC;EACzB,CAAC;EACDX,SAAS,CAAC,MAAM;IACd,MAAMY,GAAG,GAAGC,SAAS,CAACC,WAAW;IACjC,IAAI,CAACF,GAAG,EAAE;MACRP,QAAQ,CAAC,8BAA8B,CAAC;MACxC;IACF;IACA,IAAIU,OAAO,GAAGH,GAAG,CAACI,aAAa,CAACV,QAAQ,EAAEI,OAAO,CAAC;IAClD,OAAO,MAAME,GAAG,CAACK,UAAU,CAACF,OAAO,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IAAC,GAAGb,QAAQ;IAAEE;EAAK,CAAC;AAC7B,CAAC;AAAA,GAvBYH,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}